# 성공적인 도메인 이벤트 스토밍 워크숍을 위한 PM 가이드

## 1. 워크숍 개요 및 목표 설정

MSA(Microservices Architecture) 전환을 위한 프로젝트의 첫걸음은 도메인을 명확하게 이해하고 서비스 경계를 식별하는 것입니다. 도메인 이벤트 스토밍은 이러한 목표를 달성하기 위한 가장 효과적인 방법론 중 하나입니다.

### **워크숍 목표**
*   현재 운영 중인 시스템의 **핵심 비즈니스 도메인 이벤트를 시각화**합니다.
*   참가자들의 **도메인 지식을 공유하고 정렬**하여 공통의 이해를 구축합니다.
*   **마이크로서비스로 분리될 수 있는 잠재적인 서비스 경계(Bounded Context)를 식별**합니다.
*   비즈니스 규칙, 시스템 간의 상호작용, 문제점 등을 명확히 파악합니다.

### **이벤트 스토밍의 핵심 원칙**
*   **협업**: 모든 참가자의 지식과 관점을 존중하고 적극적인 참여를 유도합니다.
*   **시각화**: 포스트잇과 넓은 공간을 활용하여 도메인의 흐름을 한눈에 볼 수 있도록 만듭니다.
*   **탐색**: 정답을 찾는 것이 아니라, 함께 질문하고 발견하며 도메인을 깊이 이해합니다.
*   **빠른 진행**: 초반에는 완벽함보다 빠른 아이디어 발산과 흐름 구축에 집중합니다.

## 2. 워크숍 사전 준비 (D-Day 1~2주 전)

성공적인 워크숍은 철저한 준비에서 시작됩니다. PM은 퍼실리테이터로서 워크숍의 전체적인 그림을 그리고 준비를 주도해야 합니다.

### **2.1. 목표 명확화 및 공유**
*   **초대 메일/공지**: 워크숍의 목적, 기대 효과, 참가자들의 역할을 명확히 기술하여 발송합니다.
    *   **예시 문구**: "안녕하세요, [프로젝트명] 프로젝트 PM [PM 이름]입니다. 저희는 현재 시스템의 성공적인 MSA 전환을 위해 '도메인 이벤트 스토밍' 워크숍을 개최합니다. 본 워크숍은 각 부서 팀장님과 선임분들의 깊이 있는 비즈니스 지식을 바탕으로 현재 시스템의 핵심 도메인 이벤트를 시각화하고, 이를 통해 효율적인 마이크로서비스 경계를 식별하는 데 매우 중요합니다. 여러분의 적극적인 참여와 귀한 인사이트를 부탁드립니다."

### **2.2. 참가자 선정 (5~8명 권장)**
*   **핵심 원칙**: 비즈니스 도메인을 가장 잘 아는 실무자와 의사결정권자를 포함해야 합니다.
*   **구성**:
    *   **현업 비즈니스 전문가 (필수)**: 각 도메인(부서)의 팀장, 서비스 기획자, PO (비즈니스 흐름과 규칙에 대한 깊은 이해)
    *   **선임 개발자/아키텍트**: 현재 시스템의 기술적 구현 및 제약을 아는 인원 (기술적 타당성 검토 및 마이크로서비스 설계 연계)
    *   **퍼실리테이터 (PM)**: 워크숍 진행 및 시간 관리, 논의 방향성 제시

### **2.3. 장소 및 준비물 확보**
*   **장소**:
    *   **넓은 벽 또는 화이트보드**: 참가자 전원이 자유롭게 포스트잇을 붙이고 이동하며 논의할 수 있는 충분한 공간이 필수적입니다. (최소 가로 5m 이상)
    *   **편안한 환경**: 장시간 진행되므로 음료, 간식 등을 준비하여 편안한 분위기를 조성합니다.
*   **준비물**:
    *   **다양한 색상의 포스트잇 (넉넉하게)**: 최소 7가지 색상 (주황, 파랑, 노랑(작은 것), 노랑(큰 것), 연보라, 초록, 분홍). 각 색상당 300매 이상.
    *   **네임펜/마커**: 참가자 수만큼 (굵고 잘 나오는 것으로)
    *   **화이트보드 마커**: 여러 색상 (논의 정리, 경계선 표시용)
    *   **테이프/마스킹 테이프**: 포스트잇이 떨어지지 않도록 고정하거나, 경계선을 표시할 때 사용
    *   **카메라**: 워크숍 결과물(벽에 붙은 포스트잇) 촬영용 (고해상도 권장)
    *   **타이머**: 각 세션 시간 관리용

### **2.4. 시간 계획 (최소 4시간, 권장 6~8시간)**
*   **집중도 유지**: 중간에 다른 회의나 업무로 인해 흐름이 끊기지 않도록 충분한 시간을 확보하고, 참가자들에게 워크숍 시간 동안 다른 업무는 보지 않도록 요청합니다.
*   **세션별 시간 분배 예시 (총 6시간 기준)**
    *   **오프닝 및 규칙 설명**: 15분
    *   **도메인 이벤트 발굴 (빅 픽처)**: 60분
    *   **시간순 배열 및 스토리텔링**: 60분
    *   **커맨드, 액터, 외부 시스템, 읽기 모델 추가**: 60분
    *   **Aggregate 그룹핑**: 60분
    *   **Bounded Context 정의 및 흐름 정리**: 60분
    *   **마무리 및 사진 촬영**: 15분
    *   **휴식 시간**: 중간중간 적절히 배분 (예: 매 90분마다 10분 휴식)

## 3. 시각적 가이드: 이벤트 스토밍 핵심 요소 (포스트잇 색상 규칙)

워크숍 시작 전, 이 색상 규칙을 모든 참가자에게 명확히 설명하고, 벽 한쪽에 크게 붙여두어 상시 참조할 수 있도록 합니다.

| 색상 | 요소 (영문) | 의미 및 역할 | 예시 |
| :--- | :--- | :--- | :--- |
| **주황색** | **Domain Event** | **과거형으로 표현된, 비즈니스적으로 의미 있는 '발생했던 사건'**. 시스템의 상태 변화를 나타내며, 도메인 이벤트 스토밍의 핵심입니다. | `주문이 접수됨`, `결제가 승인됨`, `상품이 출고됨`, `회원이 탈퇴함` |
| **파란색** | **Command** | 특정 도메인 이벤트를 발생시키는 **사용자의 의지나 시스템의 요청/행동**. 일반적으로 " ~하라"는 명령형으로 표현됩니다. | `주문을 하다`, `결제를 요청하다`, `상품을 출고하라`, `회원 탈퇴 요청` |
| **작은 노란색** | **Actor / User** | Command를 실행하는 **사람, 역할, 또는 다른 시스템**. 누가 이 명령을 내렸는지를 나타냅니다. | `고객`, `관리자`, `배송 시스템`, `PG사(결제 시스템)` |
| **큰 노란색** | **Aggregate** | **하나의 비즈니스 트랜잭션으로 응집되는 Command와 Event의 묶음**. 개념적으로 하나의 일관된 상태를 유지해야 하는 비즈니스 단위입니다. 마이크로서비스의 강력한 후보가 됩니다. | `주문(Order)`, `상품(Product)`, `회원(Member)`, `결제(Payment)` |
| **연보라색** | **Policy / Reaction** | **"~라는 이벤트가 발생하면, ~라는 커맨드를 실행한다"** 는 형식의 자동화된 비즈니스 규칙 또는 시스템의 반응. 이벤트와 커맨드 사이의 논리적 연결을 보여줍니다. | `[주문 접수됨]` → `[재고 감소 요청]` |
| **초록색** | **Read Model / View** | **특정 사용자 또는 역할이 의사결정을 위해 보거나 사용하는 정보/데이터/화면**. 사용자가 비즈니스 프로세스에서 어떤 정보를 필요로 하는지 이해하는 데 도움을 줍니다. | `상품 목록 화면`, `주문 상세 조회 페이지`, `회원 정보 수정 화면` |
| **분홍색** | **External System** | 우리 시스템과 상호작용하는 **외부 서비스 또는 시스템**. (예: 결제 게이트웨이, 배송사 API, SNS 연동 등) | `카카오페이 PG`, `CJ대한통운 API`, `네이버 로그인 API` |

## 4. 워크숍 진행 (단계별 상세 가이드 및 PM 스크립트)

PM은 "정답을 아는 사람"이 아니라, 참가자들이 도메인 지식을 효과적으로 발굴하고 정리하도록 돕는 **"진행자(Facilitator)"** 역할에 집중해야 합니다.

### **4.1. (15분) 오프닝 및 규칙 설명**

*   **PM 스크립트**:
    *   "안녕하세요! 바쁘신 와중에도 귀한 시간 내주셔서 진심으로 감사합니다. 저는 오늘 워크숍의 진행을 맡은 PM [PM 이름]입니다."
    *   "오늘 워크숍의 핵심 목표는 '우리 시스템에서 일어나는 모든 의미 있는 비즈니스 사건들을 시간 순서대로 시각화하고, 이를 바탕으로 MSA 전환을 위한 서비스 경계를 함께 식별하는 것'입니다. 여러분의 경험과 지식이 이 과정에서 가장 중요합니다."
    *   "참가자 여러분께 몇 가지 약속을 부탁드립니다. 첫째, '정답은 없습니다.' 모든 아이디어는 존중되며, 자유롭게 의견을 나누는 것이 중요합니다. 둘째, '질문은 환영합니다.' 궁금한 점이 있다면 언제든지 손들고 질문해주세요. 셋째, '핸드폰은 잠시 내려놔 주세요.' 워크숍 시간 동안은 오롯이 여기에 집중해주시면 감사하겠습니다."
    *   "벽에 보시면 다양한 색상의 포스트잇과 그 의미가 적혀 있습니다. 이 색상 규칙은 워크숍 내내 저희가 사용할 공통 언어입니다. 특히 가장 중요한 '주황색 포스트잇'은 비즈니스에서 발생했던 '사건'을 의미합니다. 지금부터 이 규칙에 따라 도메인을 탐험해 보겠습니다."

### **4.2. (60분) [Big Picture] 도메인 이벤트 발굴 (주황색 포스트잇)**

*   **목표**: 시스템 내에서 발생하는 모든 핵심 비즈니스 이벤트를 자유롭게 발산하고 벽에 붙입니다.
*   **PM 스크립트**:
    *   "자, 이제 주황색 포스트잇과 펜을 들어주세요. 지금부터 [서비스 이름] 시스템에서 일어나는 모든 '의미 있는 사건'들을 과거형(~했다, ~되었다)으로 한 포스트잇에 하나씩 적어주세요. 예를 들어 '회원이 가입했다', '상품이 등록되었다', '주문이 완료되었다' 와 같은 것들입니다. 기술적인 용어보다는 비즈니스 용어로 자유롭게 적어주세요. 생각나는 대로 모두 적어서 이 넓은 벽에 붙여주세요. 순서는 지금은 중요하지 않습니다. 10분간 집중해서 적어보겠습니다."
    *   *(10분 후)* "이제 벽에 붙은 이벤트들을 한번 같이 훑어보겠습니다. 혹시 다른 분의 이벤트를 보고 '아, 이런 것도 있었네!' 하고 떠오르는 것이 있다면 추가로 적어서 붙여주세요. 이 단계에서는 중복을 신경 쓰지 않아도 괜찮습니다. 중요한 것은 최대한 많은 이벤트를 발굴하는 것입니다. 20분 더 진행하겠습니다."
    *   "이 과정에서 막히는 부분이 있다면, '고객이 우리 서비스를 처음 이용할 때부터 마지막까지 어떤 일들이 일어나나요?', '관리자는 시스템에서 어떤 작업을 하나요?' 와 같이 고객 여정이나 특정 역할의 관점에서 생각해볼 수 있습니다."

### **4.3. (60분) 시간순 배열 및 스토리텔링**

*   **목표**: 발굴된 이벤트를 시간 흐름에 따라 정렬하고, 빠진 부분이나 불명확한 부분을 찾아내 비즈니스 프로세스의 전체 흐름을 완성합니다.
*   **PM 스크립트**:
    *   "이제 벽에 붙은 주황색 이벤트들을 시간의 흐름에 따라 왼쪽에서 오른쪽으로 함께 정렬해 보겠습니다. 다 같이 앞으로 나와서 포스트잇들을 옮겨주세요."
    *   "이벤트를 정렬하면서, '이 이벤트 다음에는 어떤 일이 일어나지?', '이 이벤트 앞에 어떤 이벤트가 있었어야 할까?' 와 같은 질문을 던져보세요. 이 과정에서 새로운 이벤트가 발견될 수도 있고, 기존 이벤트의 순서가 변경될 수도 있습니다."
    *   "정렬이 어느 정도 되었다면, 이제 제가 왼쪽부터 이벤트를 읽어 내려가겠습니다. 마치 하나의 스토리를 들려주듯이요. 스토리를 들으면서 혹시 어색하거나 빠진 부분이 있다면 언제든지 말씀해주세요."
    *   "예시: '회원이 가입했다' -> '상품이 등록되었다' (이벤트의 주체가 다르니 따로 떨어져 있어야 함), '상품이 장바구니에 담겼다' -> '주문이 접수되었다' -> '결제가 승인되었다' -> '상품이 출고되었다'. 이 흐름이 자연스럽게 이어지나요?"
    *   "이 단계에서 활발한 논의가 일어나는 것이 아주 중요합니다. 비즈니스 규칙의 예외 상황이나 숨겨진 프로세스들이 이때 많이 드러납니다."

### **4.4. (60분) 커맨드, 액터, 외부 시스템, 읽기 모델 추가**

*   **목표**: 각 이벤트를 유발하는 명령(Command)과 행위자(Actor)를 식별하고, 필요한 외부 시스템 및 읽기 모델을 추가하여 도메인 모델을 풍부하게 만듭니다.
*   **PM 스크립트**:
    *   "이제 각 주황색 이벤트가 발생하게 된 '원인'과 '누가' 그 원인을 제공했는지 찾아보겠습니다."
    *   "주황색 이벤트 앞에 파란색 포스트잇으로 '커맨드(Command)'를, 그 커맨드를 실행한 '액터(Actor)'를 작은 노란색 포스트잇으로 붙여주세요."
    *   "예시: '주문이 접수됨 (주황)' 이벤트는 '고객 (노랑)'이 '주문하기 (파랑)' 커맨드를 실행했기 때문에 발생했죠. 이렇게 연결해 주세요."
    *   "또한, 커맨드를 수행하거나 이벤트를 처리하는 과정에서 우리 시스템과 '상호작용하는 외부 시스템(분홍색)'이 있다면 해당 위치에 붙여주세요."
    *   "마지막으로, 특정 액터가 어떤 의사결정을 하기 위해 '보는 화면이나 데이터(초록색 읽기 모델)'가 있다면 그 위치에도 붙여주세요. 이것은 사용자의 관점에서 시스템을 이해하는 데 도움이 됩니다."
    *   **시각화 예시 (텍스트 기반)**:
        ```
        [고객:노랑] -> [주문하다:파랑] -> [주문이 접수됨:주황]
                                        |
                                        V
        [결제 요청:파랑] -> [카카오페이 PG:분홍] -> [결제가 승인됨:주황]
                                                    |
                                                    V
        [주문 상세 조회 화면:초록] <- [관리자:노랑]
        ```

### **4.5. (60분) [Design Level] Aggregate 그룹핑 (큰 노란색 포스트잇)**

*   **목표**: 시간 순서로 배열된 이벤트와 커맨드, 액터들 사이에서 강력하게 응집된 비즈니스 단위(Aggregate)를 식별하고 그룹화합니다. 이것은 마이크로서비스 후보를 찾는 중요한 과정입니다.
*   **PM 스크립트**:
    *   "자, 이제 벽에 붙은 이 많은 포스트잇들 사이에서 '덩어리'를 찾아보겠습니다. 어떤 커맨드와 이벤트들이 항상 함께 움직이며, 하나의 비즈니스 개념 주위에서 일어나는 것처럼 보이나요?"
    *   "예를 들어, '상품 등록됨', '상품 가격 변경됨', '상품 재고 추가됨'은 모두 '상품'이라는 하나의 개념과 강하게 연결되어 있죠? 이처럼 하나의 트랜잭션으로 처리되어야 하거나, 항상 함께 변경되는 것들을 묶어보세요."
    *   "그룹을 찾았다면, 큰 노란색 포스트잇에 그 그룹의 이름을 (예: '주문', '상품', '회원') 적어서 해당 그룹의 위에 붙여주세요. 그리고 마스킹 테이프로 그룹 주변에 경계선을 그어줍니다."
    *   "이 어그리게이트들이 바로 마이크로서비스로 분리될 수 있는 강력한 후보들입니다. 어떤 어그리게이트가 너무 크거나 너무 작은지, 논의해 봅시다."

### **4.6. (60분) [Design Level] Bounded Context 정의 및 흐름 정리 (연보라색 포스트잇)**

*   **목표**: 식별된 Aggregate들을 바탕으로 마이크로서비스의 경계가 될 Bounded Context를 정의하고, 컨텍스트 간의 상호작용(Policy)을 명확히 합니다.
*   **PM 스크립트**:
    *   "이제는 이 어그리게이트 그룹들을 바탕으로 더 큰 개념인 '바운디드 컨텍스트(Bounded Context)'를 정의해 볼 시간입니다. 바운디드 컨텍스트는 특정한 유비쿼터스 언어가 통용되는 경계이자, 마이크로서비스가 될 수 있는 단위입니다."
    *   "각 어그리게이트를 보면서, '이 어그리게이트는 어떤 비즈니스 영역에 속하는가?', '이 어그리게이트는 다른 어그리게이트와 독립적으로 배포될 수 있을까?' 와 같은 질문을 던져보세요. 그리고 마스킹 테이프로 더 큰 경계를 그려서 바운디드 컨텍스트를 표시하고 이름을 붙여주세요. (예: '주문 컨텍스트', '상품 컨텍스트', '회원 컨텍스트')"
    *   "마지막으로, 바운디드 컨텍스트 간의 상호작용을 '연보라색 Policy 포스트잇'으로 연결해 보겠습니다. '주문 컨텍스트'에서 '결제가 완료됨 (주황)' 이벤트가 발생하면, '배송 컨텍스트'에서는 '배송을 시작하라 (파랑)'는 커맨드를 실행해야겠죠. 이런 흐름을 연보라색 포스트잇으로 명확하게 표시해주세요."
    *   **시각화 예시 (텍스트 기반)**:
        ```
        ------------------------------------
        | **주문 컨텍스트** (Bounded Context) |
        | [주문:큰노랑]                    |
        | [고객:노랑] -> [주문하다:파랑] -> [주문이 접수됨:주황]
        | [결제 요청:파랑] -> [PG사:분홍] -> [결제가 승인됨:주황]
        ------------------------------------
                                  | Policy: [결제가 승인됨(주황)] -> [배송 시작 요청(파랑)] (연보라)
                                  V
        ------------------------------------
        | **배송 컨텍스트** (Bounded Context) |
        | [배송:큰노랑]                    |
        | [배송 시작 요청:파랑] -> [배송 시작됨:주황]
        | [배송사 API:분홍]               |
        ------------------------------------
        ```

### **4.7. (15분) 마무리 및 사진 촬영**

*   **목표**: 완성된 이벤트 스토밍 보드를 리뷰하고, 중요한 정보들을 기록으로 남깁니다.
*   **PM 스크립트**:
    *   "수고하셨습니다! 저희가 함께 만들어낸 도메인 이벤트 스토밍의 전체 그림입니다. 한눈에 봐도 우리 시스템의 복잡한 비즈니스 흐름과 경계가 명확하게 드러나는 것을 볼 수 있습니다."
    *   "다 같이 이 그림을 보며 간략하게 리뷰해 보겠습니다. 혹시 빠진 부분이나 수정하고 싶은 부분이 있으신가요?"
    *   "이제 이 귀한 결과물을 기록으로 남겨야 합니다. 여러 각도에서 선명하게 사진을 촬영할 예정이니, 잠시 자리를 비켜주시면 감사하겠습니다."
    *   "오늘 워크숍을 통해 얻은 인사이트는 MSA 전환 프로젝트의 가장 중요한 밑거름이 될 것입니다. 다시 한번 여러분의 적극적인 참여에 감사드립니다."

## 5. 워크숍 이후 후속 조치

워크숍에서 얻은 결과물이 실제 프로젝트의 성공으로 이어지기 위해서는 PM의 체계적인 후속 조치가 필수적입니다.

### **5.1. 결과물 디지털화 및 공유**
*   **온라인 툴 활용**: 촬영한 사진을 바탕으로 Miro, FigJam, Excalidraw, Confluence 등 온라인 협업 툴에 이벤트 스토밍 보드를 디지털 형태로 옮겨 정리합니다.
*   **정보 공유**: 디지털화된 결과물을 모든 참가자와 관련 이해관계자들에게 공유하여 지속적인 참조와 피드백이 가능하도록 합니다.

### **5.2. 모델 정제 및 분석**
*   **심화 논의**: PM 주도로 각 팀의 시니어 개발자/아키텍트들이 모여 디지털화된 모델을 다시 검토합니다.
*   **주요 검토 사항**:
    *   **Aggregate 및 Bounded Context의 적정성**: 각 경계가 비즈니스적으로 응집되어 있고, 독립적인 배포 및 운영이 가능한 단위인지 평가합니다. (너무 크거나 작지 않은지)
    *   **컨텍스트 간의 의존성**: 서비스 간 데이터 흐름, 이벤트 발행/구독 관계를 명확히 하고, 잠재적인 순환 의존성이나 병목 지점을 파악합니다.
    *   **책임 분리**: 각 Bounded Context가 명확한 단일 책임을 가지는지 확인합니다.
    *   **문제점 및 개선 기회**: 워크숍 중 발견된 비즈니스 문제점, 비효율적인 프로세스, 기술 부채 등을 정리하고 개선 방안을 모색합니다.

### **5.3. 다음 단계 계획 수립**
*   **MSA 전환 로드맵 수립**: 이벤트 스토밍 결과를 바탕으로 MSA 전환을 위한 구체적인 로드맵과 개발 계획을 수립합니다.
*   **우선순위 설정**: 어떤 마이크로서비스부터 개발할지 비즈니스 가치, 복잡성, 의존성 등을 고려하여 우선순위를 설정합니다.
*   **세부 태스크 도출**: 각 마이크로서비스에 대한 API 명세(Spec) 정의, 데이터 모델 설계, 기술 스택 결정, 개발팀 배정 등 세부적인 태스크를 도출하고 프로젝트 관리 도구(Jira, Asana 등)에 등록합니다.
*   **정기적인 검토**: MSA 설계는 한 번에 완성되는 것이 아니므로, 정기적으로 이벤트 스토밍 결과와 설계안을 검토하고 개선해 나갑니다.

---
**[PM으로서 성공을 위한 추가 팁]**

*   **준비된 질문 리스트**: 워크숍 진행 중 논의가 멈출 때를 대비하여 "만약 ~라면 어떻게 되나요?", "~하는 과정에서 실패하면 어떻게 되나요?", "~는 누가 담당하나요?" 와 같은 질문 리스트를 미리 준비해 두세요.
*   **유연성 유지**: 계획된 시간과 흐름에 너무 얽매이지 마세요. 중요한 것은 참가자들이 충분히 논의하고 도메인을 이해하는 것입니다. 때로는 한 주제에 대해 길게 논의하는 것이 더 큰 가치를 가져올 수 있습니다.
*   **중재자의 역할**: 의견 충돌이 발생하면 중립적인 입장에서 양쪽 의견을 모두 듣고, 합의를 도출하거나 다음 논의로 미루는 등 현명하게 중재해야 합니다.
*   **적극적인 경청**: 참가자들의 이야기를 경청하고, 중요한 내용은 요약하여 다시 한번 언급하며 논의를 이끌어 갑니다.
*   **긍정적인 분위기 조성**: 참가자들이 편안하고 즐겁게 참여할 수 있도록 긍정적인 에너지를 유지합니다.
*   **정답에 대한 강요 금지**: 퍼실리테이터가 미리 정해놓은 정답을 강요하는 것은 워크숍의 본질을 훼손할 수 있습니다. 참가자들의 자발적인 발견과 합의가 중요합니다.